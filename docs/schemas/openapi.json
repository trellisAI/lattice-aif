{"openapi":"3.1.0","info":{"title":"Lattice server","description":"server API for LatticeAI","version":"0.0.97"},"paths":{"/api/lattice/version":{"get":{"summary":"Version","operationId":"version_api_lattice_version_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/api/lattice/tags":{"get":{"summary":"Get All Models","operationId":"get_all_models_api_lattice_tags_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/api/lattice/connections":{"get":{"summary":"List Connections","operationId":"list_connections_api_lattice_connections_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}},"post":{"summary":"Create Connection","operationId":"create_connection_api_lattice_connections_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ConnectionModel"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/lattice/connections/{connection_id}":{"get":{"summary":"Get Connection","operationId":"get_connection_api_lattice_connections__connection_id__get","parameters":[{"name":"connection_id","in":"path","required":true,"schema":{"type":"string","title":"Connection Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"summary":"Delete Connection","operationId":"delete_connection_api_lattice_connections__connection_id__delete","parameters":[{"name":"connection_id","in":"path","required":true,"schema":{"type":"string","title":"Connection Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/lattice/prompts":{"get":{"summary":"List Prompts","operationId":"list_prompts_api_lattice_prompts_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}},"post":{"summary":"Create Prompt","operationId":"create_prompt_api_lattice_prompts_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/PromptModel"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/lattice/prompts/{prompt_id}":{"get":{"summary":"Get Prompt","operationId":"get_prompt_api_lattice_prompts__prompt_id__get","parameters":[{"name":"prompt_id","in":"path","required":true,"schema":{"type":"string","title":"Prompt Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"summary":"Delete Prompt","operationId":"delete_prompt_api_lattice_prompts__prompt_id__delete","parameters":[{"name":"prompt_id","in":"path","required":true,"schema":{"type":"string","title":"Prompt Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/lattice/models":{"get":{"summary":"List Models Details","operationId":"list_models_details_api_lattice_models_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/api/lattice/modellist":{"get":{"summary":"List Models","operationId":"list_models_api_lattice_modellist_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/api/lattice/models/{model_id}":{"get":{"summary":"Get Model Details","operationId":"get_model_details_api_lattice_models__model_id__get","parameters":[{"name":"model_id","in":"path","required":true,"schema":{"type":"string","title":"Model Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/lattice/tools":{"get":{"summary":"List Tools","operationId":"list_tools_api_lattice_tools_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}},"post":{"summary":"Add Tools","operationId":"add_tools_api_lattice_tools_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ToolsModel"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/lattice/tools/{tools_id}":{"get":{"summary":"Get Tools","operationId":"get_tools_api_lattice_tools__tools_id__get","parameters":[{"name":"tools_id","in":"path","required":true,"schema":{"type":"string","title":"Tools Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"summary":"Delete Tools","operationId":"delete_tools_api_lattice_tools__tools_id__delete","parameters":[{"name":"tools_id","in":"path","required":true,"schema":{"type":"string","title":"Tools Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/lattice/tools/{tools_id}/functions":{"get":{"summary":"Get Tool Functions","operationId":"get_tool_functions_api_lattice_tools__tools_id__functions_get","parameters":[{"name":"tools_id","in":"path","required":true,"schema":{"type":"string","title":"Tools Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/lattice/tool/functions":{"get":{"summary":"Get All Functions","operationId":"get_all_functions_api_lattice_tool_functions_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/api/lattice/tool/functions/{func_id}":{"get":{"summary":"Get Functions Details","operationId":"get_functions_details_api_lattice_tool_functions__func_id__get","parameters":[{"name":"func_id","in":"path","required":true,"schema":{"type":"string","title":"Func Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/lattice/chat":{"post":{"summary":"Chat","operationId":"chat_api_lattice_chat_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ChatRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/chat":{"post":{"summary":"Chat","operationId":"chat_api_chat_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ChatRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/lattice/agents":{"get":{"summary":"Get Lattice Agents","operationId":"get_lattice_agents_api_lattice_agents_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}},"post":{"summary":"Create Lattice Agents","operationId":"create_lattice_agents_api_lattice_agents_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/LatticeAgent"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/lattice/agents/{agent_id}":{"get":{"summary":"Get Agents Info","operationId":"get_agents_info_api_lattice_agents__agent_id__get","parameters":[{"name":"agent_id","in":"path","required":true,"schema":{"type":"string","title":"Agent Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"summary":"Del Agents Info","operationId":"del_agents_info_api_lattice_agents__agent_id__delete","parameters":[{"name":"agent_id","in":"path","required":true,"schema":{"type":"string","title":"Agent Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/lattice/vectordbs":{"get":{"summary":"List Vectordbs","operationId":"list_vectordbs_api_lattice_vectordbs_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/api/lattice/workflows":{"get":{"summary":"List Workflows","operationId":"list_workflows_api_lattice_workflows_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}}},"components":{"schemas":{"ChatMessage":{"properties":{"role":{"type":"string","title":"Role"},"content":{"type":"string","title":"Content"},"images":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"Images"}},"type":"object","required":["role","content"],"title":"ChatMessage"},"ChatRequest":{"properties":{"tag":{"type":"string","title":"Tag"},"model":{"type":"string","title":"Model"},"messages":{"items":{"$ref":"#/components/schemas/ChatMessage"},"type":"array","title":"Messages"},"stream":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Stream","default":false},"options":{"anyOf":[{"type":"object"},{"type":"null"}],"title":"Options"},"template":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Template"},"format":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Format"}},"type":"object","required":["tag","model","messages"],"title":"ChatRequest"},"ConnectionModel":{"properties":{"id":{"type":"string","title":"Id"},"source":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Source","default":"ollama"},"url":{"type":"string","title":"Url"},"api_key":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Api Key"}},"type":"object","required":["id","url","api_key"],"title":"ConnectionModel"},"HTTPValidationError":{"properties":{"detail":{"items":{"$ref":"#/components/schemas/ValidationError"},"type":"array","title":"Detail"}},"type":"object","title":"HTTPValidationError"},"LatticeAgent":{"properties":{"id":{"type":"string","title":"Id"},"prompt":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Prompt"},"recalltools":{"$ref":"#/components/schemas/ToolConfig"}},"type":"object","required":["id","recalltools"],"title":"LatticeAgent"},"PromptModel":{"properties":{"id":{"type":"string","title":"Id"},"prompt":{"type":"string","title":"Prompt"}},"type":"object","required":["id","prompt"],"title":"PromptModel"},"RecallTools":{"properties":{"name":{"type":"string","title":"Name"},"prompt":{"type":"string","title":"Prompt"},"details":{"anyOf":[{"type":"object"},{"type":"null"}],"title":"Details","description":"A dictionary for additional details about the tool."},"action":{"type":"string","enum":["rephrase","recall","filter","direct"],"title":"Action","description":"Action to be taken with the tool. Options are 'rephrase', 'recall', 'filter', or 'direct'.","default":"rephrase"},"toolcall":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Toolcall","description":"Tool name to be called, if applicable. when the action is recall, this field is required."}},"type":"object","required":["name","prompt"],"title":"RecallTools"},"ToolConfig":{"properties":{"functions":{"items":{},"type":"array","title":"Functions","default":["all"]},"details":{"anyOf":[{"items":{"$ref":"#/components/schemas/RecallTools"},"type":"array"},{"type":"null"}],"title":"Details","default":[]}},"type":"object","title":"ToolConfig"},"ToolsModel":{"properties":{"id":{"type":"string","title":"Id"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"},"toollist":{"type":"string","title":"Toollist","default":"[]"}},"type":"object","required":["id"],"title":"ToolsModel"},"ValidationError":{"properties":{"loc":{"items":{"anyOf":[{"type":"string"},{"type":"integer"}]},"type":"array","title":"Location"},"msg":{"type":"string","title":"Message"},"type":{"type":"string","title":"Error Type"}},"type":"object","required":["loc","msg","type"],"title":"ValidationError"}}}}